# -----------------------------------------------------
# Application Dispatch Rules
# -----------------------------------------------------

# Workspace rules (from custom.conf)
windowrule = workspace 1, class:^(dev.zed.Zed)
windowrule = workspace 2, class:^(org.mozilla.firefox)
windowrule = workspace 3, class:^(Logseq)
windowrule = workspace 5, class:^(net.thunderbird.Thunderbird)
windowrule = workspace 6, class:^(com.discordapp.Discord)
windowrule = workspace 8, class:^(org.gnome.Calendar)
windowrule = workspace 9, class:^(org.keepassxc.KeePassXC)
windowrule = workspace 10, class:^(vlc)

# Window rules (from ml4w.conf)
windowrule = float,class:(.*org.pulseaudio.pavucontrol.*)
windowrule = size 700 600,class:(.*org.pulseaudio.pavucontrol.*)
windowrule = center,class:(.*org.pulseaudio.pavucontrol.*)
windowrule = pin,class:(.*org.pulseaudio.pavucontrol.*)
windowrule = float,title:(ChatGPT.*)
windowrule = float,title:(.*chat.openai.com.*)
windowrule = size 500 50%,title:(.*chat.openai.com.*)
windowrule = move 20 70,title:(.*chat.openai.com.*)
windowrule = float,class:(.*waypaper.*)
windowrule = size 900 700,class:(.*waypaper.*)
windowrule = center,class:(.*waypaper.*)
windowrule = pin,class:(.*waypaper.*)
windowrule = float,class:(io.github.qwersyk.Newelle)
windowrule = size 1000 700,class:(io.github.qwersyk.Newelle)
windowrule = center,class:(io.github.qwersyk.Newelle)
windowrule = pin,class:(io.github.qwersyk.Newelle)
windowrule = float,class:(com.ml4w.calendar)
windowrule = move 100%-w-16 66,class:(com.ml4w.calendar)
windowrule = pin, class:(com.ml4w.calendar)
windowrule = size 400 400,class:(com.ml4w.calendar)
windowrule = float,class:(com.ml4w.sidebar)
windowrule = move 100%-w-16 66,class:(com.ml4w.sidebar)
windowrule = pin, class:(com.ml4w.sidebar)
windowrule = size 400 660,class:(com.ml4w.sidebar)
windowrule = float,class:(com.ml4w.welcome)
windowrule = size 700 600,class:(com.ml4w.welcome)
windowrule = center,class:(com.ml4w.welcome)
windowrule = pin,class:(com.ml4w.welcome)
windowrule = float,class:(com.ml4w.settings)
windowrule = size 800 600,class:(com.ml4w.settings)
windowrule = move 10% 20%,class:(com.ml4w.settings)
windowrule = float,class:(blueman-manager)
windowrule = size 800 600,class:(blueman-manager)
windowrule = center,class:(blueman-manager)
windowrule = float,class:(nwg-look)
windowrule = size 700 600,class:(nwg-look)
windowrule = move 10% 20%,class:(nwg-look)
windowrule = pin,class:(nwg-look)
windowrule = float,class:(nwg-displays)
windowrule = size 900 600,class:(nwg-displays)
windowrule = move 10% 20%,class:(nwg-displays)
windowrule = pin,class:(nwg-displays)
windowrule = float, class:(io.missioncenter.MissionCenter)
windowrule = pin, class:(io.missioncenter.MissionCenter)
windowrule = center, class:(io.missioncenter.MissionCenter)
windowrule = size 900 600, class:(io.missioncenter.MissionCenter)
windowrule = float, class:(missioncenter), title:^(Preferences)$
windowrule = pin, class:(missioncenter), title:^(Preferences)$
windowrule = center, class:(missioncenter), title:^(Preferences)$
windowrule = float,class:(org.gnome.Calculator)
windowrule = size 700 600,class:(org.gnome.Calculator)
windowrule = center,class:(org.gnome.Calculator)
windowrule = float, class:(hyprland-share-picker)
windowrule = pin, class:(hyprland-share-picker)
windowrule = center, title:class:(hyprland-share-picker)
windowrule = size 600 400,class:(hyprland-share-picker)
windowrule = float,class:(dotfiles-floating)
windowrule = size 1000 700,class:(dotfiles-floating)
windowrule = center,class:(dotfiles-floating)
windowrule = float,class:(dotfiles-sidepad)
windowrule = size 1000 700,class:(dotfiles-sidepad)
windowrule = center,class:(dotfiles-sidepad)
windowrule = pin,class:(dotfiles-sidepad)
windowrule = float, class:xdg-desktop-portal-gtk, title:^(Open.*Files?|Save.*Files?|All Files|Save)
windowrule = center, class:xdg-desktop-portal-gtk, title:^(Open.*Files?|Save.*Files?|All Files|Save)

# General window rules (from windowrules/default.conf)
windowrule = tile, title:^(Microsoft-edge)$
windowrule = tile, title:^(Brave-browser)$
windowrule = tile, title:^(Chromium)$
windowrule = float, title:^(pavucontrol)$
windowrule = float, title:^(blueman-manager)$
windowrule = float, title:^(nm-connection-editor)$
windowrule = float, title:^(qalculate-gtk)$
# thunderbird popups
windowrule = float, title:^()$, class:^(net.thunderbird.Thunderbird)$

# Browser Picture in Picture
windowrule = float, title:^(Picture-in-Picture)$
windowrule = pin, title:^(Picture-in-Picture)$
windowrule = move 69.5% 4%, title:^(Picture-in-Picture)$

# idleinhibit
windowrule = idleinhibit fullscreen,class:([window]) # Available modes: none, always, focus, fullscreen

#xwayland related rules
# when moving objects in resolve a large border is produced
# This rule prevents that and serves as a template for any problematic xwayland apps
windowrule = noblur, class:^(resolve)$, xwayland:1
# This is a general rule for xwayland apps but can have other consequences
# for one user it impacted EMACs so it's disabled by default
# It's here as a reference or for quick triage of xwayland ap
#windowrule = noblur, xwayland:1

# ML4W Default Config (commented)
# env = XDG_CURRENT_DESKTOP,Hyprland
# env = XDG_SESSION_TYPE,wayland
# env = XDG_SESSION_DESKTOP,Hyprland
# env = QT_QPA_PLATFORM,wayland;xcb
# env = QT_QPA_PLATFORMTHEME,qt6ct
# env = QT_QPA_PLATFORMTHEME,qt5ct
# env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
# env = QT_AUTO_SCREEN_SCALE_FACTOR,1
# env = GDK_SCALE,1
# env = GDK_BACKEND,wayland,x11,*
# env = CLUTTER_BACKEND,wayland
# env = MOZ_ENABLE_WAYLAND,1
# env = XCURSOR_SIZE,24
# env = HYPRCURSOR_SIZE,24
# env = OZONE_PLATFORM,wayland
# env = ELECTRON_OZONE_PLATFORM_HINT,wayland
# xwayland {
#   force_zero_scaling = true
# }